<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InstaX Pro - Instagram Photo Downloader</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#ef4444',
                        secondary: '#06b6d4'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <style>
        :where([class^="ri-"])::before {
            content: "\f3c2";
        }
        
        body {
            background: linear-gradient(135deg, #1f2937 0%, #111827 50%, #0f172a 100%);
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .glass-card {
            background: rgba(31, 41, 55, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(75, 85, 99, 0.3);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }
        
        .inner-card {
            background: rgba(17, 24, 39, 0.9);
            border: 1px solid rgba(55, 65, 81, 0.5);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .logo-text {
            font-family: 'Pacifico', serif;
            text-shadow: 0 0 20px rgba(239, 68, 68, 0.5);
        }
        
        .download-btn {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            box-shadow: 0 10px 25px rgba(251, 191, 36, 0.3);
            transition: all 0.3s ease;
        }
        
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(251, 191, 36, 0.4);
        }
        
        .nav-icon {
            transition: all 0.3s ease;
        }
        
        .nav-icon:hover {
            transform: scale(1.1);
        }
        
        .nav-icon.active {
            color: #ef4444;
            text-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
        }
        
        .input-field {
            background: rgba(17, 24, 39, 0.8);
            border: 1px solid rgba(75, 85, 99, 0.4);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            border-color: rgba(6, 182, 212, 0.6);
            box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.1), inset 0 2px 4px rgba(0, 0, 0, 0.2);
            outline: none;
        }
        
        .photo-placeholder {
            background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
            border: 2px solid rgba(107, 114, 128, 0.3);
        }
        
        .cloud-icon {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
        }
        
        .tagline {
            background: linear-gradient(135deg, #9ca3af 0%, #6b7280 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body class="text-white overflow-x-hidden">
    <div class="min-h-screen flex flex-col items-center justify-center px-4 py-8">
        <!-- Main Container -->
        <div class="w-full max-w-sm mx-auto">
            <!-- Header Logo -->
            <div class="text-center mb-8">
                <h1 class="logo-text text-2xl font-bold text-white">
                    INSTA<span class="text-primary">X</span>PRO
                </h1>
            </div>
            
            <!-- Main Card -->
            <div class="glass-card rounded-3xl p-6 mb-8">
                <!-- Photo Illustration Container -->
                <div class="inner-card rounded-2xl p-8 mb-6 relative">
                    <!-- Large Photo Placeholder -->
                    <div class="photo-placeholder w-32 h-24 mx-auto rounded-lg mb-4 relative overflow-hidden">
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="ri-image-line text-gray-400 text-xl"></i>
                            </div>
                        </div>
                        <!-- Mountain Icon -->
                        <div class="absolute bottom-2 right-2">
                            <div class="w-4 h-4 flex items-center justify-center">
                                <i class="ri-landscape-line text-gray-500 text-sm"></i>
                            </div>
                        </div>
                        <!-- Circle (sun/moon) -->
                        <div class="absolute top-2 left-2 w-3 h-3 bg-gray-500 rounded-full"></div>
                    </div>
                    
                    <!-- Cloud Download Icon -->
                    <div class="cloud-icon w-12 h-12 rounded-full flex items-center justify-center mx-auto relative">
                        <div class="w-6 h-6 flex items-center justify-center">
                            <i class="ri-cloud-line text-white text-lg"></i>
                        </div>
                        <!-- Download Arrow -->
                        <div class="absolute -bottom-1 -right-1 w-6 h-6 bg-orange-500 rounded flex items-center justify-center">
                            <div class="w-4 h-4 flex items-center justify-center">
                                <i class="ri-download-line text-white text-xs"></i>
                            </div>
                        </div>
                        <!-- Sparkle -->
                        <div class="absolute -top-1 -right-2 w-4 h-4 flex items-center justify-center">
                            <i class="ri-sparkling-line text-yellow-400 text-sm"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Title Section -->
                <div class="text-center mb-6">
                    <h2 class="text-xl font-bold mb-2">
                        INSTA<span class="text-primary">X</span>PHOTO
                    </h2>
                    <p class="text-gray-300 text-sm">Instagram Photo Downloader</p>
                </div>
                
                <!-- Input Section -->
                <div class="space-y-4">
                    <input 
                        type="text" 
                        id="urlInput"
                        placeholder="Paste Your Link Here" 
                        class="input-field w-full px-4 py-3 rounded-lg text-white placeholder-gray-400 text-sm"
                    >
                    
                    <!-- Download Button -->
                    <button 
                        id="downloadBtn"
                        class="download-btn !rounded-button w-full py-3 rounded-lg font-semibold text-gray-900 flex items-center justify-center space-x-2 cursor-pointer"
                    >
                        <div class="w-5 h-5 flex items-center justify-center">
                            <i class="ri-download-line text-lg"></i>
                        </div>
                        <span>Download & Save</span>
                    </button>
                </div>
            </div>
            
            <!-- Tagline -->
            <div class="text-center mb-8">
                <p class="tagline text-sm font-semibold tracking-wider">
                    DOWNLOAD ANYTHING. ANYTIME.
                </p>
            </div>
        </div>
    </div>
    
    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 w-full bg-gray-800 bg-opacity-90 backdrop-blur-lg border-t border-gray-700">
        <div class="grid grid-cols-4 h-16">
            <button class="nav-icon flex flex-col items-center justify-center space-y-1 cursor-pointer">
                <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-home-line text-xl text-gray-400"></i>
                </div>
            </button>
            <button class="nav-icon active flex flex-col items-center justify-center space-y-1 cursor-pointer">
                <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-camera-fill text-xl"></i>
                </div>
            </button>
            <button class="nav-icon flex flex-col items-center justify-center space-y-1 cursor-pointer">
                <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-video-line text-xl text-gray-400"></i>
                </div>
            </button>
            <button class="nav-icon flex flex-col items-center justify-center space-y-1 cursor-pointer">
                <div class="w-6 h-6 flex items-center justify-center">
                    <i class="ri-information-line text-xl text-gray-400"></i>
                </div>
            </button>
        </div>
    </nav>
    
    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm hidden items-center justify-center z-50">
        <div class="glass-card rounded-2xl p-6 mx-4 max-w-sm w-full">
            <div class="text-center">
                <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <div class="w-8 h-8 flex items-center justify-center">
                        <i class="ri-check-line text-white text-2xl"></i>
                    </div>
                </div>
                <h3 class="text-lg font-semibold mb-2">Download Complete!</h3>
                <p class="text-gray-300 text-sm mb-4">Your Instagram photo has been successfully downloaded.</p>
                <button id="closeModal" class="download-btn !rounded-button px-6 py-2 rounded-lg font-semibold text-gray-900 cursor-pointer">
                    Close
                </button>
            </div>
        </div>
    </div>
    
    <!-- Error Modal -->
    <div id="errorModal" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm hidden items-center justify-center z-50">
        <div class="glass-card rounded-2xl p-6 mx-4 max-w-sm w-full">
            <div class="text-center">
                <div class="w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <div class="w-8 h-8 flex items-center justify-center">
                        <i class="ri-close-line text-white text-2xl"></i>
                    </div>
                </div>
                <h3 class="text-lg font-semibold mb-2">Download Failed</h3>
                <p class="text-gray-300 text-sm mb-4" id="errorMessage">Please check your Instagram URL and try again.</p>
                <button id="closeErrorModal" class="download-btn !rounded-button px-6 py-2 rounded-lg font-semibold text-gray-900 cursor-pointer">
                    Try Again
                </button>
            </div>
        </div>
    </div>

    <script id="downloadHandler">
        document.addEventListener('DOMContentLoaded', function() {
            const downloadBtn = document.getElementById('downloadBtn');
            const urlInput = document.getElementById('urlInput');
            const successModal = document.getElementById('successModal');
            const errorModal = document.getElementById('errorModal');
            const closeModal = document.getElementById('closeModal');
            const closeErrorModal = document.getElementById('closeErrorModal');
            const errorMessage = document.getElementById('errorMessage');
            
            function showSuccessModal() {
                successModal.classList.remove('hidden');
                successModal.classList.add('flex');
            }
            
            function showErrorModal(message) {
                errorMessage.textContent = message;
                errorModal.classList.remove('hidden');
                errorModal.classList.add('flex');
            }
            
            function hideModals() {
                successModal.classList.add('hidden');
                successModal.classList.remove('flex');
                errorModal.classList.add('hidden');
                errorModal.classList.remove('flex');
            }
            
            function validateInstagramUrl(url) {
                const instagramRegex = /^https?:\/\/(www\.)?(instagram\.com|instagr\.am)\/(p|reel|tv)\/[A-Za-z0-9_-]+/;
                return instagramRegex.test(url);
            }
            
            async function downloadInstagramMedia(url) {
                try {
                    downloadBtn.innerHTML = '<div class="w-5 h-5 flex items-center justify-center"><i class="ri-loader-4-line text-lg animate-spin"></i></div><span>Processing...</span>';
                    downloadBtn.disabled = true;
                    
                    // Simulate API call delay
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    // Mock API response - in real implementation, you would call your backend API
                    const mockResponse = {
                        success: Math.random() > 0.3, // 70% success rate for demo
                        imageUrl: 'https://readdy.ai/api/search-image?query=beautiful%20instagram%20photo%20download%20success&width=400&height=400&seq=download1&orientation=squarish',
                        videoUrl: null,
                        caption: 'Downloaded Instagram media'
                    };
                    
                    if (mockResponse.success) {
                        // Create download link
                        const link = document.createElement('a');
                        link.href = mockResponse.imageUrl;
                        link.download = `instagram_photo_${Date.now()}.jpg`;
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                        
                        showSuccessModal();
                        urlInput.value = '';
                    } else {
                        throw new Error('Failed to process Instagram URL');
                    }
                } catch (error) {
                    console.error('Download error:', error);
                    showErrorModal('Unable to download from this URL. Please make sure it\'s a valid Instagram post link.');
                } finally {
                    downloadBtn.innerHTML = '<div class="w-5 h-5 flex items-center justify-center"><i class="ri-download-line text-lg"></i></div><span>Download & Save</span>';
                    downloadBtn.disabled = false;
                }
            }
            
            downloadBtn.addEventListener('click', function() {
                const url = urlInput.value.trim();
                
                if (!url) {
                    showErrorModal('Please paste an Instagram URL first.');
                    return;
                }
                
                if (!validateInstagramUrl(url)) {
                    showErrorModal('Please enter a valid Instagram post URL (photo, reel, or IGTV).');
                    return;
                }
                
                downloadInstagramMedia(url);
            });
            
            urlInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    downloadBtn.click();
                }
            });
            
            closeModal.addEventListener('click', hideModals);
            closeErrorModal.addEventListener('click', hideModals);
            
            // Close modals when clicking outside
            [successModal, errorModal].forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        hideModals();
                    }
                });
            });
        });
    </script>

    <script id="navigationHandler">
        document.addEventListener('DOMContentLoaded', function() {
            const navButtons = document.querySelectorAll('.nav-icon');
            
            navButtons.forEach((button, index) => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    navButtons.forEach(btn => {
                        btn.classList.remove('active');
                        const icon = btn.querySelector('i');
                        if (icon.classList.contains('ri-home-fill')) {
                            icon.className = 'ri-home-line text-xl text-gray-400';
                        } else if (icon.classList.contains('ri-camera-fill')) {
                            icon.className = 'ri-camera-line text-xl text-gray-400';
                        } else if (icon.classList.contains('ri-video-fill')) {
                            icon.className = 'ri-video-line text-xl text-gray-400';
                        } else if (icon.classList.contains('ri-information-fill')) {
                            icon.className = 'ri-information-line text-xl text-gray-400';
                        }
                    });
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    const activeIcon = this.querySelector('i');
                    
                    switch(index) {
                        case 0:
                            activeIcon.className = 'ri-home-fill text-xl';
                            break;
                        case 1:
                            activeIcon.className = 'ri-camera-fill text-xl';
                            break;
                        case 2:
                            activeIcon.className = 'ri-video-fill text-xl';
                            break;
                        case 3:
                            activeIcon.className = 'ri-information-fill text-xl';
                            break;
                    }
                });
            });
        });
    </script>

    <script id="inputEnhancements">
        document.addEventListener('DOMContentLoaded', function() {
            const urlInput = document.getElementById('urlInput');
            
            // Auto-detect and format Instagram URLs
            urlInput.addEventListener('paste', function(e) {
                setTimeout(() => {
                    let pastedText = this.value;
                    
                    // Clean up common URL variations
                    if (pastedText.includes('instagram.com') || pastedText.includes('instagr.am')) {
                        // Remove query parameters and fragments
                        pastedText = pastedText.split('?')[0].split('#')[0];
                        
                        // Ensure https protocol
                        if (!pastedText.startsWith('http')) {
                            pastedText = 'https://' + pastedText;
                        }
                        
                        this.value = pastedText;
                    }
                }, 100);
            });
            
            // Visual feedback for valid URLs
            urlInput.addEventListener('input', function() {
                const url = this.value.trim();
                if (url && validateInstagramUrl(url)) {
                    this.style.borderColor = 'rgba(34, 197, 94, 0.6)';
                    this.style.boxShadow = '0 0 0 3px rgba(34, 197, 94, 0.1), inset 0 2px 4px rgba(0, 0, 0, 0.2)';
                } else if (url) {
                    this.style.borderColor = 'rgba(239, 68, 68, 0.6)';
                    this.style.boxShadow = '0 0 0 3px rgba(239, 68, 68, 0.1), inset 0 2px 4px rgba(0, 0, 0, 0.2)';
                } else {
                    this.style.borderColor = 'rgba(75, 85, 99, 0.4)';
                    this.style.boxShadow = 'inset 0 2px 4px rgba(0, 0, 0, 0.2)';
                }
            });
            
            function validateInstagramUrl(url) {
                const instagramRegex = /^https?:\/\/(www\.)?(instagram\.com|instagr\.am)\/(p|reel|tv)\/[A-Za-z0-9_-]+/;
                return instagramRegex.test(url);
            }
        });
    </script>
</body>
</html>
